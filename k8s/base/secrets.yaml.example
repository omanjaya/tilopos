# ⚠️ TEMPLATE FILE - DO NOT COMMIT ACTUAL SECRETS ⚠️
#
# This is a template file for Kubernetes secrets.
# Copy this file to `secrets.yaml` and replace all placeholder values with actual secrets.
#
# IMPORTANT:
# - Never commit `secrets.yaml` (it's in .gitignore)
# - For production, use proper secret management:
#   • Sealed Secrets
#   • External Secrets Operator
#   • HashiCorp Vault
#   • Cloud provider secret managers (GCP Secret Manager, AWS Secrets Manager)

apiVersion: v1
kind: Secret
metadata:
  name: tilopos-secrets
type: Opaque
stringData:
  # Database credentials
  # Generate strong passwords: openssl rand -base64 32
  DB_USER: "your-db-username"
  DB_PASSWORD: "your-strong-db-password"

  # JWT secrets
  # Generate: openssl rand -base64 64
  JWT_SECRET: "your-jwt-secret-min-32-chars"
  JWT_REFRESH_SECRET: "your-jwt-refresh-secret-min-32-chars"

  # Payment Gateway API Keys
  # Get from: https://dashboard.midtrans.com
  MIDTRANS_SERVER_KEY: "your-midtrans-server-key"
  MIDTRANS_CLIENT_KEY: "your-midtrans-client-key"

  # Email Configuration
  # Examples: Gmail, SendGrid, AWS SES, Mailgun
  SMTP_HOST: "smtp.example.com"          # e.g., smtp.gmail.com, smtp.sendgrid.net
  SMTP_PORT: "587"                       # Usually 587 (TLS) or 465 (SSL)
  SMTP_USER: "your-email@example.com"
  SMTP_PASSWORD: "your-email-app-password"
  SMTP_FROM: "noreply@yourdomain.com"

  # Object Storage (S3-compatible)
  # AWS S3, MinIO, DigitalOcean Spaces, etc.
  S3_ENDPOINT: "https://s3.amazonaws.com"
  S3_REGION: "ap-southeast-1"
  S3_ACCESS_KEY: "your-s3-access-key"
  S3_SECRET_KEY: "your-s3-secret-key"
  S3_BUCKET: "tilopos-uploads"

  # Marketplace Integration API Keys (Optional)
  # Only fill if you're using these integrations
  GOFOOD_API_KEY: "your-gofood-api-key"
  GRABFOOD_API_KEY: "your-grabfood-api-key"
  SHOPEEFOOD_API_KEY: "your-shopeefood-api-key"

---
# Production Best Practice: Use External Secrets Operator
#
# This eliminates the need to manage secrets files in git entirely.
# Secrets are pulled from external secret managers at runtime.
#
# Example with External Secrets Operator:

# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: tilopos-secrets
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     kind: ClusterSecretStore
#     name: vault-backend
#   target:
#     name: tilopos-secrets
#     creationPolicy: Owner
#   data:
#     # Database
#     - secretKey: DB_PASSWORD
#       remoteRef:
#         key: tilopos/database
#         property: password
#
#     # JWT
#     - secretKey: JWT_SECRET
#       remoteRef:
#         key: tilopos/auth
#         property: jwt_secret
#
#     # Email
#     - secretKey: SMTP_PASSWORD
#       remoteRef:
#         key: tilopos/email
#         property: smtp_password
#
#     # Storage
#     - secretKey: S3_SECRET_KEY
#       remoteRef:
#         key: tilopos/storage
#         property: s3_secret_key
